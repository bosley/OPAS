#include "ImageFrame.hpp"
#include <chrono>
#include <ctime> 

namespace IMAGE
{
    // --------------------------------------------------------------------
    //  Frame
    // --------------------------------------------------------------------
    Frame::Frame() {
        this->setTimeStamp();
    }

    // --------------------------------------------------------------------
    //  Frame
    // --------------------------------------------------------------------
    Frame::Frame(cv::Mat matrix) : matrix(matrix){
        this->setTimeStamp();
    }

    // --------------------------------------------------------------------
    //  getMatRef
    // --------------------------------------------------------------------
    cv::Mat& Frame::getRawMatrixRef() {
        return matrix;
    }

    // --------------------------------------------------------------------
    //  getMatrix
    // --------------------------------------------------------------------
    cv::Mat Frame::getMatrix() {
        return matrix.clone();
    }

    // --------------------------------------------------------------------
    //  setTimeStamp
    // --------------------------------------------------------------------
    void Frame::setTimeStamp() {

        std::time_t time = std::chrono::system_clock::to_time_t(std::chrono::system_clock::now());
        timestamp = std::ctime(&time);
    }

    // --------------------------------------------------------------------
    //  getTimeStamp
    // --------------------------------------------------------------------
    std::string Frame::getTimeStamp() const {
        return timestamp;
    }

    // --------------------------------------------------------------------
    //  setMatrix
    // --------------------------------------------------------------------
    void Frame::setMatrix(cv::Mat matrixIn) {
        matrixIn.copyTo(matrix);
    }
}
